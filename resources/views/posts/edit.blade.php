
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="shortcut icon" href="data:image/png;base64,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" type="image/vnd.microsoft.icon" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdn.ckeditor.com/4.24.0-lts/standard/ckeditor.js"></script>

    <title>Post</title>
    <style>
    body {
        margin-top: 20px;
    }


    .sidebar-title {
        margin-bottom: 1rem;
        font-size: 1.1rem;
    }

    .categories li {
        vertical-align: middle;
    }

    .categories li>ul {
        padding-left: 15px;
    }

    .categories li>ul>li>a {
        font-weight: 300;
    }

    .categories li a {
        color: #999;
        position: relative;
        display: block;
        padding: 5px 10px;
        border-bottom: 1px solid #eee;
    }

    .categories li a:before {
        content: "\f0da";
        font-family: 'FontAwesome';
        margin-right: 5px;
    }

    .categories li a:hover {
        color: #444;
        background-color: #f5f5f5;
    }

    .categories>li.active>a {
        font-weight: 600;
        color: #444;
    }

    .media-body h5 {
        font-size: 15px;
        letter-spacing: 0px;
        line-height: 20px;
        font-weight: 400;
    }

    .media-body h5 a {
        color: #555;
    }

    .media-body h5 a:hover {
        color: #4782d3;
    }
</style>
<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="{{route('show')}}">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ route('product.user') }}">Show Product</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ route('product.admin') }}">Manage Product</a>
            </li>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ route('posts.index') }}">Show Post</a>
            </li>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ route('posts.admin') }}">Manage Post</a>
            </li>
        </ul>
    </nav>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container pb50 pt-5">
    <h3 class="text-center">EDIT PRODUCT</h3>
    <form id="updateForm" method="POST" action="{{ route('posts.update', $post->id) }}" enctype="multipart/form-data">
        @csrf
        @method('PUT')
            <div class="row">
            <div class="col-md-4 mb40">
                <article>
                    <img id="previewImage" src="{{ url('image/post/'.$post->thumb_image) }}" alt="" class="img-fluid mb30"
                        style="width: 100%">
                    <div class="form-group">
                        <div class="custom-file">
                            <input name="thumbImage" type="file" class="custom-file-input" id="imageUpload"
                                accept="image/*">
                            <label class="custom-file-label" for="customFileLang"></label>
                        </div>
                    </div>
                </article>
                <!-- post article-->

            </div>
            <div class="col-md-8 mb40">
                <div class="form-group">

                    <h3>Title</h3>
                    <input name="name" class="form-control" style="width: 100%" type="text" value="{{ $post->name }}">
                    <h3>Author</h3>
                    <div class="form-group">
                        <select class="form-control" id="author_id" name="author_id" >
                            <option value="{{ $post->author_id}}-{{ $post->author_type }}">
                                {{ $post->author_type }}</option>
                            @foreach ($users as $user)
                                <option value="{{ $user->id }}-{{ $user->name }}">
                                    {{ $user->name }}</option>
                            @endforeach
                            <!-- Include options for categories here -->
                        </select>
                    </div>
                    <h3>Category</h3>
                    <select class="form-control" id="category" name="category" >
                        <option value="{{ $post->category_id }}">
                            {{ $post->category->name }}</option>
                        @foreach ($categorys as $category)
                            <option value="{{ $category->id }}"> {{ $category->name }}
                            </option>
                        @endforeach
                        <!-- Include options for categories here -->
                    </select>
                    <h3>Description</h3>
                    <textarea name="description" class="form-control" style="width: 100%">{{ $post->description }}</textarea>
                    <h3>Content</h3>
                    <textarea  class="form-control" name="content">{{ $post->content }}</textarea>
                </div>
                <button class="btn btn-sm btn-primary">Update</button>
            </div>
        </div>
    </form>

</div>

<script>
    CKEDITOR.replace('content');
</script>

<script>
    function confirmUpdate(event) {
        // Hiển thị hộp thoại xác nhận
        var result = confirm("Bạn có chắc chắn muốn cập nhật?");

        // Nếu người dùng chọn "OK" (đồng ý xóa), tiếp tục gửi form
        if (result) {
            document.getElementById('updateForm').submit();
        } else {
            event.preventDefault(); // Ngăn chặn hành vi mặc định của sự kiện click
        }
    }

    function clearForm() {
        var form = document.getElementById('updateForm');
        var fields = form.querySelectorAll('input, textarea, select');

        for (var i = 0; i < fields.length; i++) {
            fields[i].value = '';
        }
    }

    // Function to handle the image upload
    function handleImageUpload() {
        const fileInput = document.getElementById('imageUpload');
        const previewImage = document.getElementById('previewImage');

        // Check if a file is selected
        if (fileInput.files && fileInput.files[0]) {
            const reader = new FileReader();

            reader.onload = function(e) {
                previewImage.src = e.target.result;
                previewImage.style.display = 'block';
            };

            reader.readAsDataURL(fileInput.files[0]);
        }
    }

    // Attach event listener to the file input
    document.getElementById('imageUpload').addEventListener('change', handleImageUpload);
</script>
